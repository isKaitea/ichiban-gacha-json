{"version":3,"file":"js/app.0cbcb997.js","mappings":"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","sources":["webpack://ichiban-gacha-json/./src/App.vue","webpack://ichiban-gacha-json/./src/App.vue?7ccd","webpack://ichiban-gacha-json/./src/views/HomeView.vue","webpack://ichiban-gacha-json/./src/views/HomeView.vue?1da1","webpack://ichiban-gacha-json/./src/views/RegisterView.vue","webpack://ichiban-gacha-json/./src/views/RegisterView.vue?1ec6","webpack://ichiban-gacha-json/./src/views/NewsListView.vue","webpack://ichiban-gacha-json/./src/views/NewsListView.vue?602d","webpack://ichiban-gacha-json/./src/views/SeriesListView.vue","webpack://ichiban-gacha-json/./src/views/SeriesListView.vue?3236","webpack://ichiban-gacha-json/./src/views/AdminSeriesView.vue","webpack://ichiban-gacha-json/./src/views/AdminSeriesView.vue?84a2","webpack://ichiban-gacha-json/./src/views/SeriesDetailView.vue","webpack://ichiban-gacha-json/./src/views/SeriesDetailView.vue?7dfb","webpack://ichiban-gacha-json/./src/router/index.js","webpack://ichiban-gacha-json/./src/main.js","webpack://ichiban-gacha-json/webpack/bootstrap","webpack://ichiban-gacha-json/webpack/runtime/chunk loaded","webpack://ichiban-gacha-json/webpack/runtime/compat get default export","webpack://ichiban-gacha-json/webpack/runtime/define property getters","webpack://ichiban-gacha-json/webpack/runtime/global","webpack://ichiban-gacha-json/webpack/runtime/hasOwnProperty shorthand","webpack://ichiban-gacha-json/webpack/runtime/jsonp chunk loading","webpack://ichiban-gacha-json/webpack/startup"],"sourcesContent":["<template>\r\n  <div>\r\n    <nav class=\"navbar navbar-expand-lg bg-white border-bottom sticky-top\">\r\n      <div class=\"container\">\r\n        <a class=\"navbar-brand fw-bold text-danger\" href=\"#\" @click.prevent=\"goHome\">\r\n          一番賞\r\n        </a>\r\n\r\n        <button\r\n          class=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navMenu\"\r\n        >\r\n          <span class=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n\r\n        <div class=\"collapse navbar-collapse\" id=\"navMenu\">\r\n          <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" href=\"#news\" @click.prevent=\"jumpTo('news')\">最新消息</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" href=\"#hot\" @click.prevent=\"jumpTo('hot')\">最熱門</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" href=\"#latest\" @click.prevent=\"jumpTo('latest')\">最新上架</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" href=\"#about\" @click.prevent=\"jumpTo('about')\">關於我們</a>\r\n            </li>\r\n\r\n            <li class=\"nav-item\" v-if=\"isAdmin\">\r\n              <a class=\"nav-link fw-bold text-primary\" href=\"#\" @click.prevent=\"goAdmin\">\r\n                管理一番賞\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n          <div class=\"d-flex gap-2\">\r\n            <button\r\n              v-if=\"!isLoggedIn\"\r\n              class=\"btn btn-outline-danger\"\r\n              data-bs-toggle=\"modal\"\r\n              data-bs-target=\"#loginModal\"\r\n            >\r\n              登入\r\n            </button>\r\n\r\n            <div v-else class=\"d-flex align-items-center gap-2\">\r\n              <span class=\"small text-muted\">\r\n                嗨，{{ user.name }}\r\n                <span v-if=\"isAdmin\" class=\"badge text-bg-primary ms-1\">Admin</span>\r\n              </span>\r\n              <button class=\"btn btn-outline-secondary btn-sm\" @click=\"logout\">登出</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n\r\n    <main class=\"container py-4\">\r\n      <router-view />\r\n    </main>\r\n\r\n    <!-- Login Modal -->\r\n    <div class=\"modal fade\" id=\"loginModal\" tabindex=\"-1\">\r\n      <div class=\"modal-dialog modal-dialog-centered\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title fw-bold\">登入</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n          </div>\r\n\r\n          <div class=\"modal-body\">\r\n            <div class=\"mb-3\">\r\n              <label class=\"form-label\">帳號</label>\r\n              <input v-model.trim=\"loginForm.account\" type=\"text\" class=\"form-control\" placeholder=\"輸入帳號\" />\r\n            </div>\r\n\r\n            <div class=\"mb-3\">\r\n              <label class=\"form-label\">密碼</label>\r\n              <input v-model.trim=\"loginForm.password\" type=\"password\" class=\"form-control\" placeholder=\"輸入密碼\" />\r\n            </div>\r\n\r\n            <button class=\"btn btn-danger w-100\" @click=\"submitLogin\">登入</button>\r\n\r\n            <div class=\"mt-3 small text-muted d-flex justify-content-between\">\r\n              <a href=\"#\" @click.prevent=\"forgotPassword\">忘記密碼？</a>\r\n              <a href=\"#\" @click.prevent=\"goRegister\">註冊</a>\r\n            </div>\r\n\r\n            <div v-if=\"loginError\" class=\"alert alert-danger mt-3 py-2 mb-0\">\r\n              {{ loginError }}\r\n            </div>\r\n\r\n            <div class=\"alert alert-warning mt-3 py-2 mb-0\">\r\n              打版登入：admin/1234（管理者）、user/1234（一般）\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"App\",\r\n  data() {\r\n    return {\r\n      loginForm: { account: \"\", password: \"\" },\r\n      loginError: \"\",\r\n      user: this.loadUser()\r\n    };\r\n  },\r\n  computed: {\r\n    isLoggedIn() {\r\n      return !!this.user;\r\n    },\r\n    isAdmin() {\r\n      return this.user?.role === \"admin\";\r\n    }\r\n  },\r\n  methods: {\r\n    loadUser() {\r\n      try {\r\n        const raw = localStorage.getItem(\"mock_user\");\r\n        return raw ? JSON.parse(raw) : null;\r\n      } catch {\r\n        return null;\r\n      }\r\n    },\r\n    saveUser(u) {\r\n      this.user = u;\r\n      localStorage.setItem(\"mock_user\", JSON.stringify(u));\r\n    },\r\n    clearUser() {\r\n      this.user = null;\r\n      localStorage.removeItem(\"mock_user\");\r\n    },\r\n\r\n    closeModalById(id) {\r\n      const el = document.getElementById(id);\r\n      if (!el || !window.bootstrap) return;\r\n      const instance = window.bootstrap.Modal.getInstance(el) || new window.bootstrap.Modal(el);\r\n      instance.hide();\r\n    },\r\n\r\n    async jumpTo(id) {\r\n      // 不在首頁先回首頁\r\n      if (this.$route.path !== \"/\") {\r\n        await this.$router.push(\"/\");\r\n      }\r\n      // 等 DOM 出現再滾\r\n      this.$nextTick(() => {\r\n        const el = document.getElementById(id);\r\n        if (el) el.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n      });\r\n    },\r\n\r\n    goHome() {\r\n      this.$router.push(\"/\");\r\n    },\r\n    goRegister() {\r\n      this.closeModalById(\"loginModal\");\r\n      this.$router.push(\"/register\");\r\n    },\r\n    goAdmin() {\r\n      this.$router.push(\"/admin/series\");\r\n    },\r\n\r\n    forgotPassword() {\r\n      alert(\"打版：忘記密碼之後可做 Email / OTP / 重設流程。\");\r\n    },\r\n\r\n    submitLogin() {\r\n      this.loginError = \"\";\r\n      const acc = this.loginForm.account;\r\n      const pwd = this.loginForm.password;\r\n\r\n      if ((acc === \"admin\" || acc === \"user\") && pwd === \"1234\") {\r\n        const u = {\r\n          id: acc === \"admin\" ? 1 : 2,\r\n          name: acc === \"admin\" ? \"管理者\" : \"一般使用者\",\r\n          role: acc === \"admin\" ? \"admin\" : \"buyer\"\r\n        };\r\n        this.saveUser(u);\r\n        this.loginForm.account = \"\";\r\n        this.loginForm.password = \"\";\r\n        this.closeModalById(\"loginModal\");\r\n        return;\r\n      }\r\n\r\n      this.loginError = \"帳號或密碼錯誤（打版：admin/1234 或 user/1234）\";\r\n    },\r\n\r\n    logout() {\r\n      this.clearUser();\r\n      alert(\"已登出\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./App.vue?vue&type=template&id=aed77820\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <!-- Hero -->\r\n    <div class=\"p-4 p-md-5 mb-4 rounded-4 bg-white border shadow-sm\">\r\n      <div class=\"row align-items-center g-3\">\r\n        <div class=\"col-12 col-lg-8\">\r\n          <h1 class=\"fw-bold mb-2\">一番賞抽獎網站</h1>\r\n          <p class=\"text-muted mb-3\">\r\n            目前使用 JSON Mock DB（public/mock-db），之後會接 Go + MySQL。\r\n          </p>\r\n          <div class=\"d-flex gap-2 flex-wrap\">\r\n            <button class=\"btn btn-danger\" @click=\"scrollTo('hot')\">看最熱門</button>\r\n            <button class=\"btn btn-outline-danger\" @click=\"scrollTo('latest')\">看最新上架</button>\r\n            <button class=\"btn btn-outline-secondary\" @click=\"scrollTo('news')\">看最新消息</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-12 col-lg-4\">\r\n          <div class=\"rounded-4 bg-light border p-3\">\r\n            <div class=\"small text-muted mb-1\">狀態</div>\r\n            <div v-if=\"loading\" class=\"fw-bold\">讀取中…</div>\r\n            <div v-else-if=\"error\" class=\"text-danger fw-bold\">載入失敗</div>\r\n            <div v-else class=\"fw-bold\">\r\n              已載入 {{ gachas.length }} 套一番賞\r\n            </div>\r\n            <div class=\"small text-muted mt-2\">\r\n              檔案：/mock-db/gachas.json\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 最新消息 -->\r\n    <section id=\"news\" class=\"mb-4\">\r\n      <div class=\"d-flex align-items-center justify-content-between mb-2\">\r\n        <h2 class=\"h5 fw-bold mb-0\">最新消息</h2>\r\n        <button class=\"btn btn-sm btn-outline-secondary\" @click=\"goNews\">更多</button>\r\n      </div>\r\n\r\n      <div class=\"list-group shadow-sm\">\r\n        <div\r\n          v-for=\"n in newsList\"\r\n          :key=\"n.id\"\r\n          class=\"list-group-item d-flex justify-content-between align-items-start\"\r\n        >\r\n          <div class=\"me-3\">\r\n            <div class=\"fw-semibold\">{{ n.title }}</div>\r\n            <div class=\"small text-muted\">{{ n.desc }}</div>\r\n          </div>\r\n          <span class=\"badge text-bg-light border\">{{ n.date }}</span>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- 最熱門 -->\r\n    <section id=\"hot\" class=\"mb-4\">\r\n      <div class=\"d-flex align-items-center justify-content-between mb-2\">\r\n        <h2 class=\"h5 fw-bold mb-0\">最熱門</h2>\r\n        <button class=\"btn btn-sm btn-outline-secondary\" @click=\"goSeriesList('hot')\">更多</button>\r\n      </div>\r\n\r\n      <div v-if=\"loading\" class=\"text-muted\">載入中…</div>\r\n      <div v-else-if=\"error\" class=\"alert alert-danger py-2\">\r\n        讀取失敗：{{ error }}\r\n      </div>\r\n      <div v-else class=\"row g-3\">\r\n        <div v-for=\"g in hotGachas\" :key=\"g.id\" class=\"col-12 col-sm-6 col-lg-4\">\r\n          <div class=\"card h-100 shadow-sm hover-card\" role=\"button\" @click=\"goSeriesDetail(g)\">\r\n            <img\r\n              :src=\"g.image_url\"\r\n              class=\"card-img-top\"\r\n              :alt=\"g.name\"\r\n              style=\"height: 180px; object-fit: cover;\"\r\n            />\r\n            <div class=\"card-body\">\r\n              <div class=\"d-flex justify-content-between align-items-start gap-2\">\r\n                <h3 class=\"h6 fw-bold mb-1\">{{ g.name }}</h3>\r\n                <span class=\"badge text-bg-danger\">單抽 {{ g.price }}</span>\r\n              </div>\r\n              <div class=\"small text-muted mb-2\">\r\n                ❤ {{ (g.like_count || 0) }} · 點擊 {{ (g.show_n || 0) }}\r\n              </div>\r\n              <p class=\"card-text text-muted small clamp-2\">\r\n                {{ g.description || \"（尚無介紹）\" }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"hotGachas.length === 0\" class=\"text-muted\">目前沒有資料</div>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- 最新上架 -->\r\n    <section id=\"latest\" class=\"mb-4\">\r\n      <div class=\"d-flex align-items-center justify-content-between mb-2\">\r\n        <h2 class=\"h5 fw-bold mb-0\">最新上架</h2>\r\n        <button class=\"btn btn-sm btn-outline-secondary\" @click=\"goSeriesList('latest')\">更多</button>\r\n      </div>\r\n\r\n      <div v-if=\"loading\" class=\"text-muted\">載入中…</div>\r\n      <div v-else-if=\"error\" class=\"alert alert-danger py-2\">\r\n        讀取失敗：{{ error }}\r\n      </div>\r\n      <div v-else class=\"row g-3\">\r\n        <div v-for=\"g in latestGachas\" :key=\"g.id\" class=\"col-12 col-sm-6 col-lg-4\">\r\n          <div class=\"card h-100 shadow-sm hover-card\" role=\"button\" @click=\"goSeriesDetail(g)\">\r\n            <img\r\n              :src=\"g.image_url\"\r\n              class=\"card-img-top\"\r\n              :alt=\"g.name\"\r\n              style=\"height: 180px; object-fit: cover;\"\r\n            />\r\n            <div class=\"card-body\">\r\n              <div class=\"d-flex justify-content-between align-items-start gap-2\">\r\n                <h3 class=\"h6 fw-bold mb-1\">{{ g.name }}</h3>\r\n                <span class=\"badge text-bg-danger\">單抽 {{ g.price }}</span>\r\n              </div>\r\n              <div class=\"small text-muted mb-2\">\r\n                總抽數 {{ g.total_draws || \"-\" }}\r\n                <span v-if=\"g.created_at\">· {{ formatDate(g.created_at) }}</span>\r\n              </div>\r\n              <p class=\"card-text text-muted small clamp-2\">\r\n                {{ g.description || \"（尚無介紹）\" }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"latestGachas.length === 0\" class=\"text-muted\">目前沒有資料</div>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- 關於我們 -->\r\n    <section id=\"about\" class=\"mt-4\">\r\n      <div class=\"p-4 rounded-4 bg-white border shadow-sm\">\r\n        <h2 class=\"h5 fw-bold mb-2\">關於我們</h2>\r\n        <p class=\"text-muted mb-0\">\r\n          這是課堂/專題用的一番賞網站打版。現階段使用 JSON Mock DB，\r\n          後續會接 Go API + MySQL，讓抽獎、庫存、收藏、管理功能更完整。\r\n        </p>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"HomeView\",\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: null,\r\n      gachas: [],\r\n      newsList: [\r\n        { id: 1, date: \"2025/12/15\", title: \"【公告】本週新增一番賞上架！\", desc: \"打版資料：之後可由後台新增。\" },\r\n        { id: 2, date: \"2025/12/15\", title: \"【活動】會員抽十送一（示意）\", desc: \"正式版會依抽獎紀錄計算。\" },\r\n        { id: 3, date: \"2025/12/15\", title: \"【提醒】最後賞僅最後一抽獲得\", desc: \"抽獎邏輯會在詳情頁實作。\" }\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    hotGachas() {\r\n      const arr = [...this.gachas];\r\n      arr.sort((a, b) => {\r\n        const sa = (a.show_n || 0) + (a.like_count || 0);\r\n        const sb = (b.show_n || 0) + (b.like_count || 0);\r\n        return sb - sa;\r\n      });\r\n      return arr.slice(0, 6);\r\n    },\r\n    latestGachas() {\r\n      const arr = [...this.gachas];\r\n      arr.sort((a, b) => {\r\n        const ta = a.created_at ? Date.parse(a.created_at) : a.id;\r\n        const tb = b.created_at ? Date.parse(b.created_at) : b.id;\r\n        return tb - ta;\r\n      });\r\n      return arr.slice(0, 6);\r\n    }\r\n  },\r\n  async mounted() {\r\n    try {\r\n      const res = await fetch(\"/mock-db/gachas.json\");\r\n      if (!res.ok) throw new Error(\"gachas.json HTTP \" + res.status);\r\n\r\n      const data = await res.json();\r\n      this.gachas = Array.isArray(data) ? data : (data.items || []);\r\n    } catch (e) {\r\n      this.error = e.message || String(e);\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  },\r\n  methods: {\r\n    scrollTo(id) {\r\n      const el = document.getElementById(id);\r\n      if (el) el.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n    },\r\n    formatDate(iso) {\r\n      try {\r\n        const d = new Date(iso);\r\n        return `${d.getFullYear()}/${String(d.getMonth() + 1).padStart(2, \"0\")}/${String(d.getDate()).padStart(2, \"0\")}`;\r\n      } catch {\r\n        return \"\";\r\n      }\r\n    },\r\n    goNews() {\r\n      this.$router.push(\"/news\");\r\n    },\r\n    goSeriesList(mode) {\r\n      this.$router.push({ path: \"/series\", query: { mode } });\r\n    },\r\n    goSeriesDetail(gacha) {\r\n    this.$router.push({ name: \"seriesDetail\", params: { id: gacha.id } });\r\n    }\r\n\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.hover-card:hover { transform: translateY(-2px); transition: 0.12s; }\r\n.clamp-2 {\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n","import { render } from \"./HomeView.vue?vue&type=template&id=58934129&scoped=true\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=58934129&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-58934129\"]])\n\nexport default __exports__","<!-- 註冊頁（新頁面） -->\r\n <template>\r\n  <div class=\"row justify-content-center\">\r\n    <div class=\"col-12 col-md-7 col-lg-5\">\r\n      <div class=\"card shadow-sm\">\r\n        <div class=\"card-body p-4\">\r\n          <h2 class=\"h4 fw-bold mb-3\">註冊</h2>\r\n\r\n          <div class=\"mb-3\">\r\n            <label class=\"form-label\">顯示名稱</label>\r\n            <input v-model.trim=\"form.name\" class=\"form-control\" placeholder=\"例如：凱婷\" />\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label class=\"form-label\">帳號</label>\r\n            <input v-model.trim=\"form.account\" class=\"form-control\" placeholder=\"請輸入帳號\" />\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label class=\"form-label\">密碼</label>\r\n            <input v-model.trim=\"form.password\" type=\"password\" class=\"form-control\" placeholder=\"請輸入密碼\" />\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label class=\"form-label\">確認密碼</label>\r\n            <input v-model.trim=\"form.password2\" type=\"password\" class=\"form-control\" placeholder=\"再次輸入密碼\" />\r\n          </div>\r\n\r\n          <button class=\"btn btn-danger w-100\" @click=\"submit\">\r\n            建立帳號（打版）\r\n          </button>\r\n\r\n          <div v-if=\"msg\" class=\"alert alert-info mt-3 mb-0 py-2\">\r\n            {{ msg }}\r\n          </div>\r\n\r\n          <div class=\"mt-3 text-center small\">\r\n            已有帳號？\r\n            <a href=\"#\" @click.prevent=\"$router.push('/')\">回首頁登入</a>\r\n          </div>\r\n\r\n          <div class=\"alert alert-warning mt-3 py-2 mb-0\">\r\n            目前是打版：註冊資料先存 localStorage（之後改接 MySQL）。\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"RegisterView\",\r\n  data() {\r\n    return {\r\n      form: { name: \"\", account: \"\", password: \"\", password2: \"\" },\r\n      msg: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    submit() {\r\n      this.msg = \"\";\r\n\r\n      if (!this.form.name || !this.form.account || !this.form.password) {\r\n        this.msg = \"請填寫完整資料\";\r\n        return;\r\n      }\r\n      if (this.form.password !== this.form.password2) {\r\n        this.msg = \"兩次密碼不一致\";\r\n        return;\r\n      }\r\n\r\n      // 打版：存到 localStorage\r\n      const users = JSON.parse(localStorage.getItem(\"mock_users\") || \"[]\");\r\n      if (users.some((u) => u.account === this.form.account)) {\r\n        this.msg = \"此帳號已存在\";\r\n        return;\r\n      }\r\n\r\n      users.push({\r\n        id: Date.now(),\r\n        role: \"buyer\",\r\n        name: this.form.name,\r\n        account: this.form.account\r\n        // ⚠️打版先不存密碼（正式版才 hash）\r\n      });\r\n\r\n      localStorage.setItem(\"mock_users\", JSON.stringify(users));\r\n      this.msg = \"註冊成功！你可以回首頁用 admin/1234 或 user/1234 測試登入流程（之後會改成真正登入）\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./RegisterView.vue?vue&type=template&id=fd34fae0\"\nimport script from \"./RegisterView.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!-- 最新消息「更多」列表頁 -->\r\n <template>\r\n  <div class=\"card shadow-sm\">\r\n    <div class=\"card-body p-4\">\r\n      <h2 class=\"h4 fw-bold mb-2\">最新消息（更多）</h2>\r\n      <p class=\"text-muted mb-0\">先做打版：之後可接 /mock-db/news.json。</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default { name: \"NewsListView\" };\r\n</script>\r\n","import { render } from \"./NewsListView.vue?vue&type=template&id=06df07ba\"\nimport script from \"./NewsListView.vue?vue&type=script&lang=js\"\nexport * from \"./NewsListView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"container py-4\">\r\n    <div class=\"d-flex align-items-center justify-content-between flex-wrap gap-2 mb-3\">\r\n      <div>\r\n        <h1 class=\"h4 fw-bold mb-1\">\r\n          <span v-if=\"mode === 'hot'\">最熱門</span>\r\n          <span v-else-if=\"mode === 'latest'\">最新上架</span>\r\n          <span v-else>一番賞清單</span>\r\n        </h1>\r\n        <div class=\"text-muted small\">\r\n          目前共 {{ filtered.length }} 套（資料：/mock-db/gachas.json）\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"d-flex gap-2 flex-wrap\">\r\n        <button class=\"btn btn-outline-danger btn-sm\" @click=\"setMode('hot')\">最熱門</button>\r\n        <button class=\"btn btn-outline-danger btn-sm\" @click=\"setMode('latest')\">最新上架</button>\r\n        <router-link to=\"/\" class=\"btn btn-outline-secondary btn-sm\">回首頁</router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- filters -->\r\n    <div class=\"card shadow-sm mb-3\">\r\n      <div class=\"card-body\">\r\n        <div class=\"row g-2 align-items-center\">\r\n          <div class=\"col-12 col-md-6\">\r\n            <input\r\n              v-model.trim=\"q\"\r\n              class=\"form-control\"\r\n              placeholder=\"搜尋：名稱 / code / tag（例如 航海王、DEMO-001）\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"col-12 col-md-3\">\r\n            <select v-model=\"tag\" class=\"form-select\">\r\n              <option value=\"\">全部標籤</option>\r\n              <option v-for=\"t in allTags\" :key=\"t\" :value=\"t\">{{ t }}</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"col-12 col-md-3 d-flex gap-2\">\r\n            <button class=\"btn btn-outline-secondary w-100\" @click=\"resetFilters\">\r\n              清除\r\n            </button>\r\n            <button class=\"btn btn-danger w-100\" @click=\"scrollTop\">\r\n              回頂部\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- tag chips -->\r\n        <div class=\"mt-3 d-flex flex-wrap gap-2\">\r\n          <button\r\n            v-for=\"t in allTags.slice(0, 12)\"\r\n            :key=\"t\"\r\n            class=\"btn btn-sm\"\r\n            :class=\"tag === t ? 'btn-danger' : 'btn-outline-danger'\"\r\n            @click=\"tag = (tag === t ? '' : t)\"\r\n          >\r\n            #{{ t }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- states -->\r\n    <div v-if=\"loading\" class=\"text-muted\">讀取中…</div>\r\n    <div v-else-if=\"error\" class=\"alert alert-danger\">載入失敗：{{ error }}</div>\r\n\r\n    <!-- list -->\r\n    <div v-else>\r\n      <div v-if=\"filtered.length === 0\" class=\"alert alert-light border\">\r\n        找不到符合條件的資料。\r\n      </div>\r\n\r\n      <div class=\"row g-3\">\r\n        <div v-for=\"g in filtered\" :key=\"g.id\" class=\"col-12 col-sm-6 col-lg-4\">\r\n          <div class=\"card h-100 shadow-sm hover-card\" role=\"button\" @click=\"goDetail(g)\">\r\n            <img\r\n              :src=\"g.image_url\"\r\n              class=\"card-img-top\"\r\n              :alt=\"g.name\"\r\n              style=\"height: 180px; object-fit: cover;\"\r\n            />\r\n\r\n            <div class=\"card-body\">\r\n              <div class=\"d-flex justify-content-between align-items-start gap-2\">\r\n                <h3 class=\"h6 fw-bold mb-1\">{{ g.name }}</h3>\r\n                <span class=\"badge text-bg-danger\">單抽 {{ g.price }}</span>\r\n              </div>\r\n\r\n              <div class=\"small text-muted mb-2\">\r\n                <span class=\"me-2\">❤ {{ g.like_count ?? 0 }}</span>\r\n                <span class=\"me-2\">· 點擊 {{ g.show_n ?? 0 }}</span>\r\n                <span>· 一般抽 {{ g.total_draws ?? \"-\" }}</span>\r\n              </div>\r\n\r\n              <p class=\"card-text text-muted small clamp-2\">\r\n                {{ g.description || \"（尚無介紹）\" }}\r\n              </p>\r\n\r\n              <div class=\"d-flex flex-wrap gap-2 mt-2\">\r\n                <span\r\n                  v-for=\"t in (g.tags || [])\"\r\n                  :key=\"t\"\r\n                  class=\"badge text-bg-light border\"\r\n                  @click.stop=\"tag = t\"\r\n                  style=\"cursor:pointer;\"\r\n                  title=\"點我用此標籤篩選\"\r\n                >\r\n                  #{{ t }}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"card-footer bg-white border-0 pt-0\">\r\n              <div class=\"d-flex justify-content-between align-items-center\">\r\n                <span class=\"small text-muted\">\r\n                  <span v-if=\"g.code\">代碼：{{ g.code }}</span>\r\n                </span>\r\n                <span class=\"btn btn-sm btn-outline-danger\">進入抽獎 →</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"mt-4 text-center\">\r\n        <router-link to=\"/\" class=\"btn btn-outline-secondary\">回首頁</router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"SeriesListView\",\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: null,\r\n      gachas: [],\r\n      q: \"\",\r\n      tag: \"\"\r\n    };\r\n  },\r\n  computed: {\r\n    mode() {\r\n      return this.$route.query.mode || \"\";\r\n    },\r\n    allTags() {\r\n      const set = new Set();\r\n      for (const g of this.gachas) {\r\n        (g.tags || []).forEach(t => set.add(t));\r\n      }\r\n      return Array.from(set).sort((a, b) => a.localeCompare(b, \"zh-Hant\"));\r\n    },\r\n    sorted() {\r\n      const arr = [...this.gachas];\r\n\r\n      if (this.mode === \"hot\") {\r\n        arr.sort((a, b) => {\r\n          const sa = (a.show_n || 0) + (a.like_count || 0);\r\n          const sb = (b.show_n || 0) + (b.like_count || 0);\r\n          return sb - sa;\r\n        });\r\n      } else if (this.mode === \"latest\") {\r\n        arr.sort((a, b) => {\r\n          const ta = a.created_at ? Date.parse(a.created_at) : (a.id || 0);\r\n          const tb = b.created_at ? Date.parse(b.created_at) : (b.id || 0);\r\n          return tb - ta;\r\n        });\r\n      } else {\r\n        arr.sort((a, b) => (a.id || 0) - (b.id || 0));\r\n      }\r\n\r\n      return arr;\r\n    },\r\n    filtered() {\r\n      const q = (this.q || \"\").toLowerCase();\r\n      const tag = this.tag;\r\n\r\n      return this.sorted.filter(g => {\r\n        const hay = [\r\n          g.name,\r\n          g.code,\r\n          ...(g.tags || [])\r\n        ]\r\n          .filter(Boolean)\r\n          .join(\" \")\r\n          .toLowerCase();\r\n\r\n        const okQ = !q || hay.includes(q);\r\n        const okTag = !tag || (g.tags || []).includes(tag);\r\n        return okQ && okTag;\r\n      });\r\n    }\r\n  },\r\n  watch: {\r\n    // 換 mode 時保持畫面一致\r\n    \"$route.query.mode\"() {\r\n      this.scrollTop();\r\n    }\r\n  },\r\n  async mounted() {\r\n    try {\r\n      const res = await fetch(\"/mock-db/gachas.json\");\r\n      if (!res.ok) throw new Error(\"gachas.json HTTP \" + res.status);\r\n      const data = await res.json();\r\n      this.gachas = Array.isArray(data) ? data : (data.items || []);\r\n    } catch (e) {\r\n      this.error = e.message || String(e);\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  },\r\n  methods: {\r\n    setMode(mode) {\r\n      this.$router.push({ path: \"/series\", query: { mode } });\r\n    },\r\n    resetFilters() {\r\n      this.q = \"\";\r\n      this.tag = \"\";\r\n    },\r\n    scrollTop() {\r\n      window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n    },\r\n    goDetail(g) {\r\n      // 需要 router 有 /series/:id\r\n      this.$router.push(`/series/${g.id}`);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.hover-card:hover {\r\n  transform: translateY(-2px);\r\n  transition: 0.12s;\r\n}\r\n.clamp-2 {\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n","import { render } from \"./SeriesListView.vue?vue&type=template&id=0fbda55e&scoped=true\"\nimport script from \"./SeriesListView.vue?vue&type=script&lang=js\"\nexport * from \"./SeriesListView.vue?vue&type=script&lang=js\"\n\nimport \"./SeriesListView.vue?vue&type=style&index=0&id=0fbda55e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0fbda55e\"]])\n\nexport default __exports__","<!-- 管理一番賞：新增、修改、下架 -->\r\n <template>\r\n  <div class=\"card shadow-sm\">\r\n    <div class=\"card-body p-4\">\r\n      <h2 class=\"h4 fw-bold mb-2\">管理一番賞</h2>\r\n      <p class=\"text-muted mb-0\">\r\n        先做打版：新增 / 修改 / 下架（之後接 MySQL）。\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default { name: \"AdminSeriesView\" };\r\n</script>\r\n","import { render } from \"./AdminSeriesView.vue?vue&type=template&id=dcaa3f62\"\nimport script from \"./AdminSeriesView.vue?vue&type=script&lang=js\"\nexport * from \"./AdminSeriesView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"container py-4\">\r\n    <div v-if=\"loading\" class=\"text-muted\">讀取中…</div>\r\n    <div v-else-if=\"error\" class=\"alert alert-danger\">載入失敗：{{ error }}</div>\r\n\r\n    <div v-else class=\"row g-4\">\r\n      <!-- 左側 -->\r\n      <div class=\"col-12 col-lg-8\">\r\n        <div class=\"d-flex justify-content-between align-items-start gap-3 flex-wrap\">\r\n          <div>\r\n            <h1 class=\"fw-bold mb-1\">{{ series.name }}</h1>\r\n            <div class=\"text-muted small\">\r\n              單抽 {{ series.price }} 元 ｜ 一般抽：剩餘 {{ remainingDraws }} / {{ series.total_draws }}\r\n              <span class=\"ms-2\">｜ 最後賞：{{ lastPrizeClaimed ? \"已開出\" : \"未開出\" }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 圖片瀏覽 -->\r\n        <div class=\"card shadow-sm mt-3\">\r\n          <div class=\"card-body text-center\">\r\n            <div class=\"fw-semibold mb-2\">{{ currentSlide.title }}</div>\r\n            <img\r\n              :src=\"currentSlide.image_url\"\r\n              :alt=\"currentSlide.title\"\r\n              class=\"img-fluid rounded-4 border\"\r\n              style=\"max-height:420px; width:100%; object-fit:cover\"\r\n            />\r\n            <div class=\"text-muted small mt-2\" v-if=\"currentSlide.description\">\r\n              {{ currentSlide.description }}\r\n            </div>\r\n\r\n            <div class=\"d-flex justify-content-center gap-2 mt-3\">\r\n              <button class=\"btn btn-outline-secondary btn-sm\" @click=\"prevSlide\">上一張</button>\r\n              <button class=\"btn btn-outline-secondary btn-sm\" @click=\"nextSlide\">下一張</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 抽獎按鈕：圖片下、介紹上、靠右 -->\r\n        <div class=\"d-flex justify-content-end mt-3\">\r\n          <button\r\n            class=\"btn btn-danger px-4\"\r\n            @click=\"openDrawModal\"\r\n            :disabled=\"(remainingDraws <= 0) && lastPrizeClaimed\"\r\n          >\r\n            抽獎\r\n          </button>\r\n        </div>\r\n\r\n        <!-- 介紹文字 -->\r\n        <p class=\"mt-3 text-muted\" style=\"white-space:pre-line\">\r\n          {{ series.description }}\r\n        </p>\r\n\r\n        <router-link to=\"/\" class=\"btn btn-link px-0\">← 回首頁</router-link>\r\n      </div>\r\n\r\n      <!-- 右側：獎項清單（最後賞最上方+特殊標示） -->\r\n      <div class=\"col-12 col-lg-4\">\r\n        <div class=\"card shadow-sm\">\r\n          <div class=\"card-body\">\r\n            <h2 class=\"h5 fw-bold mb-3\">獎項清單</h2>\r\n\r\n            <div class=\"list-group\">\r\n              <!-- ✅ 最後賞（置頂、特殊標示、不要 1/1） -->\r\n              <button\r\n                v-if=\"lastPrize\"\r\n                class=\"list-group-item last-prize-item\"\r\n                :class=\"{ claimed: lastPrizeClaimed }\"\r\n                @click=\"goToPrizeSlide(lastPrize)\"\r\n              >\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div class=\"me-2\">\r\n                    <strong class=\"me-2\">最後賞</strong>\r\n                    <span>{{ lastPrize.name }}</span>\r\n                  </div>\r\n                  <span\r\n                    class=\"badge\"\r\n                    :class=\"lastPrizeClaimed ? 'text-bg-secondary' : 'text-bg-warning'\"\r\n                  >\r\n                    {{ lastPrizeClaimed ? \"已開出\" : \"未開出\" }}\r\n                  </span>\r\n                </div>\r\n              </button>\r\n\r\n              <!-- 一般賞 -->\r\n              <button\r\n                v-for=\"p in normalPrizesSorted\"\r\n                :key=\"p.id\"\r\n                class=\"list-group-item list-group-item-action\"\r\n                :class=\"{ 'soldout-item': p.remaining <= 0 }\"\r\n                @click=\"goToPrizeSlide(p)\"\r\n              >\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div class=\"me-2\">\r\n                    <strong>{{ p.tier }}賞</strong>\r\n                    <span class=\"ms-2\">{{ p.name }}</span>\r\n                  </div>\r\n                  <span class=\"badge text-bg-light border\">\r\n                    {{ p.remaining }} / {{ p.total }}\r\n                  </span>\r\n                </div>\r\n              </button>\r\n            </div>\r\n\r\n            <div class=\"small text-muted mt-3\">\r\n              ※ 一般抽數用盡時，最後賞會「隨最後一輪抽獎一起發放」\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ✅ 抽獎 Modal：兩階段（選抽數 → 選號格子） -->\r\n    <div class=\"modal fade\" ref=\"drawModalEl\" tabindex=\"-1\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\">\r\n        <div class=\"modal-content rounded-4\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title fw-bold\">\r\n              <span v-if=\"drawStage === 'chooseCount'\">選擇抽獎方式</span>\r\n              <span v-else>選擇號碼（{{ drawCount }} 抽）</span>\r\n            </h5>\r\n            <button class=\"btn-close\" data-bs-dismiss=\"modal\" @click=\"resetDrawFlow\"></button>\r\n          </div>\r\n\r\n          <div class=\"modal-body\">\r\n            <!-- Stage 1 -->\r\n            <div v-if=\"drawStage === 'chooseCount'\">\r\n              <div class=\"d-flex gap-2 flex-wrap\">\r\n                <button class=\"btn btn-outline-danger\" @click=\"startPick(1)\" :disabled=\"remainingDraws < 1\">\r\n                  單抽\r\n                </button>\r\n                <button class=\"btn btn-outline-danger\" @click=\"startPick(5)\" :disabled=\"remainingDraws < 5\">\r\n                  五抽\r\n                </button>\r\n                <button class=\"btn btn-outline-danger\" @click=\"startPick(10)\" :disabled=\"remainingDraws < 10\">\r\n                  十抽\r\n                </button>\r\n                <div class=\"small text-muted align-self-center ms-2\">\r\n                  （剩餘一般抽：{{ remainingDraws }}）\r\n                </div>\r\n              </div>\r\n\r\n              <div v-if=\"remainingDraws === 0\" class=\"alert alert-warning mt-3 mb-0\">\r\n                一般抽已抽完；最後賞會在你最後一次抽獎時一起發放（若尚未領取）。\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Stage 2：格子 -->\r\n            <div v-else>\r\n              <div class=\"d-flex justify-content-between align-items-center flex-wrap gap-2\">\r\n                <div class=\"small text-muted\">\r\n                  點選號碼可鎖定（最多 {{ drawCount }} 個）；已抽過會是灰色不可選\r\n                </div>\r\n                <button class=\"btn btn-sm btn-outline-secondary\" @click=\"systemPick\">\r\n                  系統幫抽\r\n                </button>\r\n              </div>\r\n\r\n              <div class=\"ticket-grid mt-3\">\r\n                <button\r\n                  v-for=\"n in series.total_draws\"\r\n                  :key=\"n\"\r\n                  type=\"button\"\r\n                  class=\"ticket\"\r\n                  :class=\"{\r\n                    drawn: isDrawn(n),\r\n                    selected: pickedNumbers.includes(n) && !isDrawn(n)\r\n                  }\"\r\n                  :disabled=\"isDrawn(n)\"\r\n                  @click=\"togglePickNumber(n)\"\r\n                >\r\n                  {{ n }}\r\n                </button>\r\n              </div>\r\n\r\n              <div class=\"mt-2 small text-muted\">\r\n                已選：<strong>{{ pickedNumbers.length }}</strong> / {{ drawCount }}\r\n              </div>\r\n\r\n              <div class=\"d-flex justify-content-end mt-3\">\r\n                <button\r\n                  class=\"btn btn-danger\"\r\n                  @click=\"confirmDraw\"\r\n                  :disabled=\"pickedNumbers.length !== drawCount\"\r\n                >\r\n                  確認抽獎\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ✅ 抽獎動畫覆蓋層（右上 SKIP） -->\r\n    <div v-if=\"anim.show\" class=\"anim-overlay\">\r\n      <button class=\"skip-btn\" @click=\"skipAnimation\">SKIP</button>\r\n\r\n      <div class=\"anim-card\">\r\n        <div class=\"small text-muted mb-2\">抽獎中…</div>\r\n\r\n        <div class=\"fw-bold mb-2\">\r\n          <span v-if=\"anim.current && anim.current.isLastPrize\">最後賞</span>\r\n          <span v-else-if=\"anim.current\">{{ anim.current.tier }}賞</span>\r\n          <span v-else>---</span>\r\n        </div>\r\n\r\n        <div class=\"mb-3 text-muted small\">\r\n          <span v-if=\"anim.current\">{{ anim.current.name }}</span>\r\n          <span v-else>正在轉動…</span>\r\n        </div>\r\n\r\n        <div class=\"anim-imgwrap\">\r\n          <img\r\n            v-if=\"anim.current && anim.current.image_url\"\r\n            :src=\"anim.current.image_url\"\r\n            class=\"anim-img\"\r\n            :alt=\"anim.current.name\"\r\n          />\r\n          <div v-else class=\"anim-placeholder\">🎲</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ✅ 結果 Modal -->\r\n    <div class=\"modal fade\" ref=\"resultModalEl\" tabindex=\"-1\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\">\r\n        <div class=\"modal-content rounded-4\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title fw-bold\">🎉 抽獎結果</h5>\r\n            <button class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n          </div>\r\n\r\n          <div class=\"modal-body\">\r\n            <div v-if=\"drawResults.length === 0\" class=\"text-muted\">（沒有結果）</div>\r\n\r\n            <div v-else class=\"row g-3\">\r\n              <div v-for=\"(r, idx) in drawResults\" :key=\"idx\" class=\"col-12 col-md-6\">\r\n                <div class=\"border rounded-4 p-3 h-100\">\r\n                  <div class=\"fw-bold mb-1\">\r\n                    <span v-if=\"r.isLastPrize\">最後賞</span>\r\n                    <span v-else>{{ r.tier }}賞</span>\r\n                    <span class=\"text-muted ms-2\" v-if=\"!r.isLastPrize\">（號碼 {{ r.number }}）</span>\r\n                  </div>\r\n                  <div class=\"mb-2\">{{ r.name }}</div>\r\n                  <img\r\n                    :src=\"r.image_url\"\r\n                    class=\"img-fluid rounded-4 border\"\r\n                    style=\"max-height:260px; width:100%; object-fit:cover\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"modal-footer\">\r\n            <button class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">關閉</button>\r\n\r\n            <button\r\n              class=\"btn btn-danger\"\r\n              @click=\"againDraw\"\r\n              :disabled=\"(remainingDraws <= 0) && lastPrizeClaimed\"\r\n            >\r\n              再抽一次\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"SeriesDetailView\",\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: null,\r\n\r\n      series: null,\r\n      prizes: [],\r\n\r\n      // ✅ mapping\r\n      ticketPrizeIds: [],       // index0 -> 號碼1\r\n      initialDrawnSet: new Set(), // ✅ 一開始就灰掉的號碼\r\n      drawnSet: new Set(),      // 本頁抽掉的號碼\r\n\r\n      drawStage: \"chooseCount\",\r\n      drawCount: 1,\r\n      pickedNumbers: [],\r\n\r\n      lastPrizeClaimed: false,\r\n      drawResults: [],\r\n\r\n      slides: [],\r\n      currentSlideIndex: 0,\r\n\r\n      anim: {\r\n        show: false,\r\n        current: null,\r\n        _timer: null,\r\n        _endTimer: null,\r\n        _pendingResults: null\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    seriesId() {\r\n      return Number(this.$route.params.id);\r\n    },\r\n    lastPrize() {\r\n      return this.prizes.find(p => String(p.tier).includes(\"最後\")) || null;\r\n    },\r\n    normalPrizes() {\r\n      return this.prizes.filter(p => !String(p.tier).includes(\"最後\"));\r\n    },\r\n    normalPrizesSorted() {\r\n      const order = [\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\"];\r\n      const idx = (t) => {\r\n        const i = order.indexOf(String(t || \"\").toUpperCase());\r\n        return i === -1 ? 999 : i;\r\n      };\r\n      return [...this.normalPrizes].sort((a,b) => idx(a.tier) - idx(b.tier));\r\n    },\r\n\r\n    // ✅ 正確：剩餘一般抽數 = prizes.remaining 加總 - 本頁抽掉的數量\r\n    remainingDraws() {\r\n  return this.normalPrizesSorted.reduce((sum, p) => sum + Number(p.remaining || 0), 0);\r\n},\r\n\r\n\r\n    currentSlide() {\r\n      return this.slides[this.currentSlideIndex] || { title: \"-\", image_url: \"\", description: \"\" };\r\n    }\r\n  },\r\n  async mounted() {\r\n    try {\r\n      const gRes = await fetch(\"/mock-db/gachas.json\");\r\n      const pRes = await fetch(\"/mock-db/prizes.json\");\r\n      if (!gRes.ok) throw new Error(\"gachas.json HTTP \" + gRes.status);\r\n      if (!pRes.ok) throw new Error(\"prizes.json HTTP \" + pRes.status);\r\n\r\n      const gachas = await gRes.json();\r\n      const allPrizes = await pRes.json();\r\n\r\n      const series = gachas.find(x => Number(x.id) === this.seriesId) || null;\r\n      if (!series) throw new Error(`找不到 gachas.json 中 id=${this.seriesId} 的一番賞`);\r\n      this.series = series;\r\n\r\n      this.prizes = allPrizes\r\n        .filter(p => Number(p.gacha_id) === this.seriesId)\r\n        .map(p => ({\r\n          ...p,\r\n          isLastPrize: String(p.tier).includes(\"最後\")\r\n        }));\r\n\r\n      // ✅ 建「票對獎」與「初始灰格」\r\n      this.buildTicketMap();\r\n\r\n      this.buildSlides();\r\n      this.currentSlideIndex = 0;\r\n    } catch (e) {\r\n      this.error = e.message || String(e);\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  },\r\n  methods: {\r\n    // ---------- modal control ----------\r\n    openDrawModal() {\r\n      this.resetDrawFlow();\r\n      const modal = window.bootstrap?.Modal.getOrCreateInstance(this.$refs.drawModalEl);\r\n      modal?.show();\r\n    },\r\n    resetDrawFlow() {\r\n      this.drawStage = \"chooseCount\";\r\n      this.drawCount = 1;\r\n      this.pickedNumbers = [];\r\n    },\r\n    startPick(count) {\r\n      this.drawCount = count;\r\n      this.pickedNumbers = [];\r\n      this.drawStage = \"pickNumbers\";\r\n    },\r\n\r\n    // ---------- grid picking ----------\r\n    systemPick() {\r\n      const available = [];\r\n      const total = Number(this.series?.total_draws || 0);\r\n      for (let n = 1; n <= total; n++) {\r\n        if (!this.isDrawn(n)) available.push(n);\r\n      }\r\n      this.shuffle(available);\r\n      this.pickedNumbers = available.slice(0, this.drawCount).sort((a,b) => a-b);\r\n    },\r\n    togglePickNumber(n) {\r\n      if (this.isDrawn(n)) return;\r\n\r\n      const i = this.pickedNumbers.indexOf(n);\r\n      if (i >= 0) {\r\n        this.pickedNumbers.splice(i, 1);\r\n        return;\r\n      }\r\n      if (this.pickedNumbers.length >= this.drawCount) return;\r\n\r\n      this.pickedNumbers.push(n);\r\n      this.pickedNumbers.sort((a,b) => a-b);\r\n    },\r\n\r\n    // ---------- confirm draw -> animation -> result ----------\r\n    confirmDraw() {\r\n      if (this.pickedNumbers.length !== this.drawCount) return;\r\n\r\n      const drawModal = window.bootstrap?.Modal.getOrCreateInstance(this.$refs.drawModalEl);\r\n      drawModal?.hide();\r\n\r\n      const results = [];\r\n\r\n      for (const number of this.pickedNumbers) {\r\n        if (this.isDrawn(number)) continue;\r\n\r\n        // ✅ 只記「本頁抽掉的」，初始灰格不動\r\n        this.drawnSet.add(number);\r\n\r\n        const prizeId = this.ticketPrizeIds[number - 1];\r\n        const prize = this.prizes.find(p => p.id === prizeId);\r\n\r\n        // ✅ 如果 prizeId 是 null（資料缺漏），就回傳「未知」但不去扣別的獎\r\n        const picked = prize || null;\r\n\r\n        if (picked && !picked.isLastPrize && Number(picked.remaining) > 0) {\r\n          picked.remaining -= 1;\r\n        }\r\n\r\n        results.push({\r\n          number,\r\n          tier: picked?.tier || \"?\",\r\n          name: picked?.name || \"（未知獎項：資料缺漏）\",\r\n          image_url: picked?.image_url || \"\",\r\n          isLastPrize: false\r\n        });\r\n\r\n        if (picked) this.goToPrizeSlide(picked);\r\n      }\r\n\r\n      // ✅ 一般抽用盡（remainingDraws==0）且最後賞未開出：同輪加發最後賞\r\n      if (this.remainingDraws === 0 && !this.lastPrizeClaimed && this.lastPrize) {\r\n        this.lastPrizeClaimed = true;\r\n        const lp = this.lastPrize;\r\n        results.push({\r\n          number: null,\r\n          tier: lp.tier,\r\n          name: lp.name,\r\n          image_url: lp.image_url,\r\n          isLastPrize: true\r\n        });\r\n        this.goToPrizeSlide(lp);\r\n      }\r\n\r\n      this.pickedNumbers = [];\r\n      this.drawStage = \"chooseCount\";\r\n      this.startAnimation(results);\r\n    },\r\n\r\n    // ---------- animation ----------\r\n    startAnimation(results) {\r\n      this.stopAnimationTimers();\r\n\r\n      const candidates = [];\r\n      const normals = this.normalPrizesSorted.filter(p => p.image_url);\r\n\r\n      for (let i = 0; i < 12; i++) {\r\n        const p = normals[Math.floor(Math.random() * normals.length)];\r\n        if (p) candidates.push({ tier: p.tier, name: p.name, image_url: p.image_url, isLastPrize: false });\r\n      }\r\n      for (const r of results) candidates.push(r);\r\n\r\n      this.anim.show = true;\r\n      this.anim._pendingResults = results;\r\n      this.anim.current = candidates[0] || null;\r\n\r\n      let idx = 0;\r\n      this.anim._timer = setInterval(() => {\r\n        idx = (idx + 1) % candidates.length;\r\n        this.anim.current = candidates[idx];\r\n      }, 80);\r\n\r\n      this.anim._endTimer = setTimeout(() => {\r\n        this.finishAnimation();\r\n      }, 1200);\r\n    },\r\n\r\n    skipAnimation() {\r\n      this.finishAnimation();\r\n    },\r\n\r\n    finishAnimation() {\r\n      if (!this.anim.show) return;\r\n      this.stopAnimationTimers();\r\n\r\n      this.anim.show = false;\r\n      this.anim.current = null;\r\n\r\n      this.drawResults = this.anim._pendingResults || [];\r\n      this.anim._pendingResults = null;\r\n\r\n      this.openResultModal();\r\n    },\r\n\r\n    stopAnimationTimers() {\r\n      if (this.anim._timer) clearInterval(this.anim._timer);\r\n      if (this.anim._endTimer) clearTimeout(this.anim._endTimer);\r\n      this.anim._timer = null;\r\n      this.anim._endTimer = null;\r\n    },\r\n\r\n    openResultModal() {\r\n      const m = window.bootstrap?.Modal.getOrCreateInstance(this.$refs.resultModalEl);\r\n      m?.show();\r\n    },\r\n\r\n    againDraw() {\r\n      const resultModal = window.bootstrap?.Modal.getOrCreateInstance(this.$refs.resultModalEl);\r\n      resultModal?.hide();\r\n      setTimeout(() => this.openDrawModal(), 150);\r\n    },\r\n\r\n    // ---------- mapping ----------\r\n    buildTicketMap() {\r\n      const totalDraws = Number(this.series?.total_draws || 0);\r\n\r\n      // 1) 用 total 建「完整票池」\r\n      const pool = [];\r\n      for (const p of this.normalPrizesSorted) {\r\n        const t = Number(p.total || 0);\r\n        for (let i = 0; i < t; i++) pool.push(p.id);\r\n      }\r\n\r\n      // 2) pool 長度必須對齊 total_draws；缺就補 null，不要用 A 補！\r\n      if (pool.length !== totalDraws) {\r\n        console.warn(`[資料不一致] prizes.total總和=${pool.length}, gachas.total_draws=${totalDraws}`);\r\n        if (pool.length > totalDraws) pool.length = totalDraws;\r\n        while (pool.length < totalDraws) pool.push(null);\r\n      }\r\n\r\n      // 3) 打散，固定「號碼 -> 獎」\r\n      this.shuffle(pool);\r\n      this.ticketPrizeIds = pool;\r\n\r\n      // 4) 初始灰格：依每個獎的 (total - remaining) 去標號碼\r\n      const needDrawn = {};\r\n      for (const p of this.normalPrizesSorted) {\r\n        needDrawn[p.id] = Math.max(0, Number(p.total || 0) - Number(p.remaining || 0));\r\n      }\r\n\r\n      const initSet = new Set();\r\n      for (let i = 0; i < this.ticketPrizeIds.length; i++) {\r\n        const pid = this.ticketPrizeIds[i];\r\n        if (!pid) continue;\r\n        if ((needDrawn[pid] || 0) > 0) {\r\n          initSet.add(i + 1); // 號碼\r\n          needDrawn[pid] -= 1;\r\n        }\r\n      }\r\n\r\n      this.initialDrawnSet = initSet;\r\n    },\r\n\r\n    buildSlides() {\r\n      const slides = [];\r\n      if (this.series?.image_url) {\r\n        slides.push({\r\n          type: \"banner\",\r\n          title: \"宣傳圖\",\r\n          image_url: this.series.image_url,\r\n          description: \"\"\r\n        });\r\n      }\r\n\r\n      const ordered = [];\r\n      if (this.lastPrize) ordered.push(this.lastPrize);\r\n      ordered.push(...this.normalPrizesSorted);\r\n\r\n      for (const p of ordered) {\r\n        slides.push({\r\n          type: \"prize\",\r\n          prizeId: p.id,\r\n          title: `${p.isLastPrize ? \"最後賞\" : p.tier + \"賞\"} ${p.name}`,\r\n          image_url: p.image_url,\r\n          description: p.description || \"\"\r\n        });\r\n      }\r\n      this.slides = slides;\r\n    },\r\n\r\n    // ---------- slides ----------\r\n    prevSlide() {\r\n      if (!this.slides.length) return;\r\n      this.currentSlideIndex = (this.currentSlideIndex - 1 + this.slides.length) % this.slides.length;\r\n    },\r\n    nextSlide() {\r\n      if (!this.slides.length) return;\r\n      this.currentSlideIndex = (this.currentSlideIndex + 1) % this.slides.length;\r\n    },\r\n    goToPrizeSlide(prize) {\r\n      const idx = this.slides.findIndex(s => s.type === \"prize\" && s.prizeId === prize.id);\r\n      if (idx >= 0) this.currentSlideIndex = idx;\r\n    },\r\n\r\n    // ---------- utils ----------\r\n    isDrawn(n) {\r\n      // ✅ 初始灰格 + 本頁抽掉\r\n      return this.initialDrawnSet.has(n) || this.drawnSet.has(n);\r\n    },\r\n    shuffle(arr) {\r\n      for (let i = arr.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [arr[i], arr[j]] = [arr[j], arr[i]];\r\n      }\r\n    }\r\n  },\r\n  beforeUnmount() {\r\n    this.stopAnimationTimers();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.soldout-item {\r\n  text-decoration: line-through;\r\n  opacity: 0.4;\r\n}\r\n\r\n/* 最後賞特殊樣式 */\r\n.last-prize-item {\r\n  background: #fff8e1;\r\n  border: 2px solid #f0ad4e;\r\n}\r\n.last-prize-item.claimed {\r\n  opacity: 0.55;\r\n  text-decoration: line-through;\r\n}\r\n\r\n/* 格子 */\r\n.ticket-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(10, minmax(0, 1fr));\r\n  gap: 8px;\r\n}\r\n@media (max-width: 576px) {\r\n  .ticket-grid { grid-template-columns: repeat(6, minmax(0, 1fr)); }\r\n}\r\n.ticket {\r\n  border: 1px solid #ddd;\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  padding: 8px 0;\r\n  font-weight: 700;\r\n  cursor: pointer;\r\n  transition: transform 0.05s ease, background 0.12s ease, opacity 0.12s ease;\r\n}\r\n.ticket:hover { transform: translateY(-1px); }\r\n.ticket.selected {\r\n  border-color: #dc3545;\r\n  background: #ffe4e8;\r\n}\r\n.ticket.drawn {\r\n  background: #e9ecef;\r\n  color: #6c757d;\r\n  border-color: #dee2e6;\r\n  cursor: not-allowed;\r\n  opacity: 0.9;\r\n}\r\n\r\n/* ✅ 抽獎動畫覆蓋層 */\r\n.anim-overlay {\r\n  position: fixed;\r\n  inset: 0;\r\n  z-index: 2000;\r\n  background: rgba(0,0,0,0.55);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.anim-card {\r\n  width: min(520px, 92vw);\r\n  background: #fff;\r\n  border-radius: 18px;\r\n  padding: 18px;\r\n  text-align: center;\r\n  box-shadow: 0 18px 40px rgba(0,0,0,0.25);\r\n}\r\n.skip-btn {\r\n  position: fixed;\r\n  top: 14px;\r\n  right: 14px;\r\n  z-index: 2100;\r\n  border: none;\r\n  border-radius: 999px;\r\n  padding: 8px 14px;\r\n  font-weight: 800;\r\n  background: #ffffff;\r\n  cursor: pointer;\r\n}\r\n.anim-imgwrap {\r\n  height: 260px;\r\n  border-radius: 16px;\r\n  border: 1px solid #eee;\r\n  overflow: hidden;\r\n  display: grid;\r\n  place-items: center;\r\n  background: #fafafa;\r\n}\r\n.anim-img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n.anim-placeholder {\r\n  font-size: 64px;\r\n}\r\n</style>\r\n","import { render } from \"./SeriesDetailView.vue?vue&type=template&id=4b965f96&scoped=true\"\nimport script from \"./SeriesDetailView.vue?vue&type=script&lang=js\"\nexport * from \"./SeriesDetailView.vue?vue&type=script&lang=js\"\n\nimport \"./SeriesDetailView.vue?vue&type=style&index=0&id=4b965f96&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4b965f96\"]])\n\nexport default __exports__","import { createRouter, createWebHashHistory } from \"vue-router\";\r\n\r\nimport HomeView from \"../views/HomeView.vue\";\r\nimport RegisterView from \"../views/RegisterView.vue\";\r\nimport NewsListView from \"../views/NewsListView.vue\";\r\nimport SeriesListView from \"../views/SeriesListView.vue\";\r\nimport AdminSeriesView from \"../views/AdminSeriesView.vue\";\r\nimport SeriesDetailView from \"../views/SeriesDetailView.vue\"; // ✅ 新增\r\n\r\nconst routes = [\r\n  { path: \"/\", name: \"home\", component: HomeView },\r\n  { path: \"/register\", name: \"register\", component: RegisterView },\r\n  { path: \"/news\", name: \"news\", component: NewsListView },\r\n\r\n  // 最熱門/最新上架共用同頁，用 query mode=hot/latest\r\n  { path: \"/series\", name: \"series\", component: SeriesListView },\r\n\r\n  // ✅ 抽獎頁（詳情頁）\r\n  { path: \"/series/:id\", name: \"seriesDetail\", component: SeriesDetailView, props: true },\r\n\r\n  // 管理頁\r\n  { path: \"/admin/series\", name: \"adminSeries\", component: AdminSeriesView }\r\n];\r\n\r\nexport default createRouter({\r\n  history: createWebHashHistory(), // ✅ GitHub Pages 最穩\r\n  routes\r\n});\r\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\n\ncreateApp(App).use(router).mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkichiban_gacha_json\"] = self[\"webpackChunkichiban_gacha_json\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(2956); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","id","tabindex","_createElementBlock","_createElementVNode","_hoisted_1","_hoisted_2","href","onClick","_cache","_withModifiers","args","$options","goHome","type","_hoisted_3","_hoisted_4","_hoisted_5","$event","jumpTo","_hoisted_6","_hoisted_7","_hoisted_8","isAdmin","_hoisted_9","goAdmin","_hoisted_10","isLoggedIn","_hoisted_12","_hoisted_13","_toDisplayString","$data","user","name","_hoisted_14","logout","_hoisted_11","_hoisted_15","_createVNode","_component_router_view","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","loginForm","account","placeholder","trim","_hoisted_21","password","submitLogin","_hoisted_22","forgotPassword","goRegister","loginError","_hoisted_23","data","this","loadUser","computed","role","methods","raw","localStorage","getItem","JSON","parse","saveUser","u","setItem","stringify","clearUser","removeItem","closeModalById","el","document","getElementById","window","bootstrap","instance","Modal","getInstance","hide","$route","path","$router","push","$nextTick","scrollIntoView","behavior","block","alert","acc","pwd","__exports__","render","scrollTo","loading","error","gachas","length","goNews","_Fragment","_renderList","newsList","n","key","title","desc","date","goSeriesList","hotGachas","g","goSeriesDetail","src","image_url","alt","style","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","price","_hoisted_28","like_count","show_n","_hoisted_29","description","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","latestGachas","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","total_draws","created_at","_hoisted_43","formatDate","_hoisted_44","_hoisted_45","arr","sort","a","b","sa","sb","slice","ta","Date","tb","mounted","res","fetch","ok","Error","status","json","Array","isArray","items","e","message","String","iso","d","getFullYear","getMonth","padStart","getDate","mode","query","gacha","params","form","password2","submit","msg","_ctx","users","some","now","filtered","setMode","_component_router_link","to","q","tag","value","allTags","t","resetFilters","scrollTop","_normalizeClass","goDetail","tags","_hoisted_36","_hoisted_37","code","set","Set","forEach","add","from","localeCompare","sorted","toLowerCase","filter","hay","Boolean","join","okQ","includes","okTag","watch","top","ref","series","remainingDraws","lastPrizeClaimed","currentSlide","prevSlide","nextSlide","openDrawModal","disabled","lastPrize","claimed","goToPrizeSlide","normalPrizesSorted","p","remaining","tier","total","drawStage","drawCount","resetDrawFlow","startPick","_hoisted_46","_hoisted_47","systemPick","_hoisted_48","isDrawn","pickedNumbers","togglePickNumber","_hoisted_49","_hoisted_50","_hoisted_51","confirmDraw","_hoisted_52","anim","show","_hoisted_53","skipAnimation","_hoisted_54","_hoisted_55","current","isLastPrize","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","drawResults","_hoisted_69","_hoisted_70","r","idx","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","number","_hoisted_76","_hoisted_78","againDraw","_hoisted_79","prizes","ticketPrizeIds","initialDrawnSet","drawnSet","slides","currentSlideIndex","_timer","_endTimer","_pendingResults","seriesId","Number","find","normalPrizes","order","i","indexOf","toUpperCase","reduce","sum","gRes","pRes","allPrizes","x","gacha_id","map","buildTicketMap","buildSlides","modal","getOrCreateInstance","$refs","drawModalEl","count","available","shuffle","splice","drawModal","results","prizeId","prize","picked","lp","startAnimation","stopAnimationTimers","candidates","normals","Math","floor","random","setInterval","setTimeout","finishAnimation","openResultModal","clearInterval","clearTimeout","m","resultModalEl","resultModal","totalDraws","pool","console","warn","needDrawn","max","initSet","pid","ordered","findIndex","s","has","j","beforeUnmount","routes","component","HomeView","RegisterView","NewsListView","SeriesListView","SeriesDetailView","props","AdminSeriesView","createRouter","history","createWebHashHistory","createApp","App","use","router","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","Object","keys","every","getter","__esModule","definition","o","defineProperty","enumerable","get","globalThis","Function","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}